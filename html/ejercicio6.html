<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Mateo David Villalobos Bertel">
    <title>Ejercicio 6</title>
</head>

<body>
    <h1>Sistema de gestión de libros</h1>

    <h3>Agregar Libro</h3>
    <label for="titulo">Titulo:</label>
    <input type="text" id="titulo"><br><br>

    <label for="autor">Autor:</label>
    <input type="text" id="autor"><br><br>

    <label for="anio">Año de Publicación:</label>
    <input type="number" id="anio"><br><br>

    <button onclick="agregarLibro()">Agregar Libro</button>

    <h3>Buscar Libro</h3>
    <label for="buscarTitulo">Buscar por Titulo:</label>
    <input type="text" id="buscarTitulo">
    <button onclick="buscarPorTitulo()">Buscar</button><br><br>

    <label for="buscarAutor">Buscar por Autor:</label>
    <input type="text" id="buscarAutor">
    <button onclick="buscarPorAutor()">Buscar</button>

    <h3>Resultados</h3>
    <ul id="resultados">
    </ul>

    <script>
        const libros = [];

        function agregarLibro() {
            const titulo = document.getElementById("titulo").value;
            const autor = document.getElementById("autor").value;
            const anio = document.getElementById("anio").value;

            if (titulo && autor && anio) {
                const libro = { titulo, autor, anio };
                libros.push(libro);

                document.getElementById("titulo").value = "";
                document.getElementById("autor").value = "";
                document.getElementById("anio").value = "";

                alert("Libro agregado exitosamente.");
            } else {
                alert("Por favor, completa todos los campos.");
            }
        }

        function buscarPorTitulo() {
            const buscarTitulo = document.getElementById("buscarTitulo").value;
            mostrarResultados(libros.filter(libro => libro.titulo.includes(buscarTitulo)));
        }

        function buscarPorAutor() {
            const buscarAutor = document.getElementById("buscarAutor").value;
            mostrarResultados(libros.filter(libro => libro.autor.includes(buscarAutor)));
        }

        function mostrarResultados(resultados) {
            const listaResultados = document.getElementById("resultados");
            listaResultados.innerHTML = "";

            if (resultados.length == 0) {
                listaResultados.innerHTML = "<li>No se encontraron resultados.</li>";
            } else {
                resultados.forEach(libro => {
                    const item = document.createElement("li");
                    item.textContent = `Título: ${libro.titulo}, Autor: ${libro.autor}, Año de Publicación: ${libro.anio}`;
                    listaResultados.appendChild(item);
                });
            }
        }
    </script>
</body>

</html>